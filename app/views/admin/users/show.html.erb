<h1><%= t("view.user.headline_show") %></h1>

<div class="nav justify-content-end">
  <%= link_to t("view.task.link_index"), admin_users_path, class: "nav-link" %>
</div>

<table class="table table-hover">
  <tbody>
    <tr>
      <th><%= User.human_attribute_name(:id) %></th>
      <td><%= @user.id %></td>
    </tr>
    <tr>
      <th><%= User.human_attribute_name(:name) %></th>
      <td><%= @user.name %></td>
    </tr>
    <tr>
      <th><%= User.human_attribute_name(:email) %></th>
      <td><%= @user.email %></td>
    </tr>
    <tr>
      <th><%= t("view.user.task_count") %></th>
      <td><%= @user.tasks.count %></td>
    </tr>
    <tr>
      <th><%= User.human_attribute_name(:created_at) %></th>
      <td><%= @user.created_at.strftime("%Y年%m月%d日") %></td>
    </tr>
    <tr>
      <th><%= User.human_attribute_name(:updated_at) %></th>
      <td><%= @user.updated_at.strftime("%Y年%m月%d日") %></td>
    </tr>
  </tbody>
</table>

<%= link_to t("view.task.link_edit"), edit_admin_user_path, class: "btn btn-primary mr-2" %>
<%= link_to t("view.task.link_destroy"), admin_user_path, method: :delete, data: { confirm: "「#{@user.name}」#{t("view.task.destroy_confirm")}" }, class: "btn btn-danger" %>
<br>
<br>
<h3><%= "#{@user.name}#{t('view.user.task_index')}" %></h3>
<table class="table table-hover">
  <thead class="thead-light">
    <tr>
      <th><%= Task.human_attribute_name(:name) %></th>
      <th><%= Task.human_attribute_name(:description) %></th>
      <th><%= Task.human_attribute_name(:deadline) %></th>
      <th><%= Task.human_attribute_name(:status) %></th>
      <th><%= Task.human_attribute_name(:priority) %></th>
      <th><%= Task.human_attribute_name(:created_at) %></th>
    </tr>
  </thead>
  <tbody>
    <% @user.tasks.each do |task| %>
      <tr>
        <td><%= task.name %></td>
        <td><%= task.description %></td>
        <td><%= task.deadline.strftime("%Y年%m月%d日") %></td>
        <td><%= task.status %></td>
        <td><%= task.priority %></td>
        <td><%= task.created_at.strftime("%Y年%m月%d日") %></td>
      </tr>
    <% end %>
  </tbody>
</table>